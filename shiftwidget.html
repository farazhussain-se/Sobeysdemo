<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sobeys Shift Widget</title>
<style>
:root {
/* SOBEYS BRAND COLORS */
--sobeys-green-dark: #0E5A19; /* Camarone Green - Main Brand Color */
--sobeys-green-light: #469E41; /* Apple Green - Secondary/Accent */
--sobeys-cream: #F4F1EA; /* Warm background often used in stores */
--text-dark: #1A1A1A;
--white: #ffffff;
--grey-light: #F3F4F6;
--alert-red: #D32F2F; /* For notifications */
/* FONT SIMULATION - Sobeys Sans is custom, Trebuchet MS/Fira Sans are close web-safe matches */
--font-stack: "Trebuchet MS", "Fira Sans", -apple-system, BlinkMacSystemFont, sans-serif;
}
body {
font-family: var(--font-stack);
background-color: #f0f2f5;
margin: 0;
}
/* MAIN WIDGET CONTAINER */
.widget-card {
background-color: var(--white);
width: 100%;
max-width: 560px;
border-radius: 8px; /* Softer, friendlier Sobeys feel */
border: 1px solid #e5e7eb;
padding: 24px;
box-sizing: border-box;
position: relative;
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
overflow: hidden;
}
/* --- HEADER SECTION --- */
.header-row {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
border-bottom: 1px solid #f0f0f0;
padding-bottom: 15px;
}
.header-title {
font-size: 16px;
font-weight: 700;
text-transform: uppercase;
letter-spacing: 0.5px;
display: flex;
align-items: center;
gap: 8px;
color: var(--sobeys-green-dark); /* Sobeys Green */
}
.status-badge {
background-color: var(--sobeys-green-light);
color: var(--white);
font-size: 12px;
padding: 4px 10px;
border-radius: 12px;
font-weight: 600;
}
/* --- TIME & INFO --- */
.shift-time-large {
font-size: 38px; /* Slightly smaller for friendlier look */
font-weight: 700;
color: var(--text-dark);
line-height: 1;
margin-bottom: 6px;
}
.shift-location {
font-size: 15px;
font-weight: 500;
color: #6B7280;
display: flex;
align-items: center;
gap: 5px;
}
/* --- TEAM SECTION --- */
.section-label {
display: flex;
align-items: center;
gap: 6px;
font-size: 13px;
font-weight: 700;
text-transform: uppercase;
color: var(--sobeys-green-dark);
margin-top: 25px;
margin-bottom: 12px;
}
.team-list {
display: flex;
gap: 8px;
flex-wrap: wrap;
}
.team-badge {
background-color: var(--sobeys-cream);
color: var(--sobeys-green-dark);
border: 1px solid #e0e0e0;
padding: 8px 12px;
font-size: 13px;
font-weight: 500;
border-radius: 6px;
display: flex;
align-items: center;
}
.team-badge.is-me {
background-color: var(--sobeys-green-dark);
color: var(--white);
border-color: var(--sobeys-green-dark);
}
.bullet { margin: 0 6px; opacity: 0.4; }
/* --- WEEK / CALENDAR SECTION --- */
.week-header {
display: flex;
justify-content: space-between;
align-items: flex-end;
margin-top: 30px;
margin-bottom: 12px;
}
.btn-swap-text {
background: none;
border: none;
cursor: pointer;
font-size: 13px;
font-weight: 600;
display: flex;
align-items: center;
gap: 5px;
padding: 0;
color: var(--sobeys-green-light);
}
.btn-swap-text:hover { text-decoration: underline; }
.calendar-grid {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 8px;
}
.day-card {
background-color: var(--white);
border: 1px solid #e5e7eb;
color: var(--text-dark);
padding: 12px 5px;
text-align: center;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
min-height: 90px;
border-radius: 6px;
cursor: pointer;
transition: all 0.2s ease;
}
.day-card:hover { border-color: var(--sobeys-green-light); }
.day-card.active {
background-color: var(--sobeys-green-dark);
color: var(--white);
border-color: var(--sobeys-green-dark);
}
.day-name { font-size: 11px; text-transform: uppercase; margin-bottom: 4px; font-weight: 600; }
.day-number { font-size: 24px; font-weight: 700; line-height: 1; margin-bottom: 4px; }
.day-hours { font-size: 10px; font-weight: 500; }
/* OFF STATE */
.day-card.off { background-color: #f9fafb; color: #9ca3af; }
/* --- MODAL (SWAP REQUEST) --- */
.modal-backdrop {
position: absolute;
top: 0; left: 0; width: 100%; height: 100%;
background: rgba(0,0,0,0.5);
backdrop-filter: blur(2px);
display: flex;
align-items: flex-end;
opacity: 0; pointer-events: none;
transition: opacity 0.3s;
z-index: 50;
border-radius: 8px;
}
.modal-backdrop.active { opacity: 1; pointer-events: auto; }
.modal-content {
background: var(--white);
color: var(--text-dark);
width: 100%;
padding: 24px;
box-sizing: border-box;
transform: translateY(100%);
transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
border-top: 4px solid var(--sobeys-green-dark);
border-bottom-left-radius: 8px;
border-bottom-right-radius: 8px;
}
.modal-backdrop.active .modal-content { transform: translateY(0); }
.modal-header h2 { margin: 0; font-size: 20px; color: var(--sobeys-green-dark); }
.modal-detail { margin-top: 15px; font-size: 14px; line-height: 1.5; color: #4b5563; }
.btn-confirm-swap {
background-color: var(--sobeys-green-dark);
color: var(--white);
width: 100%;
border: none;
padding: 12px;
font-size: 15px;
font-weight: 600;
margin-top: 20px;
cursor: pointer;
border-radius: 4px;
transition: background 0.2s;
}
.btn-confirm-swap:hover { background-color: #0a4012; }
.btn-confirm-swap:disabled { background-color: #9ca3af; cursor: not-allowed; }
.btn-close {
background: transparent; border: 1px solid #d1d5db; color: #6b7280;
width: 100%; padding: 10px; margin-top: 10px; cursor: pointer;
border-radius: 4px; font-weight: 500;
}
/* Loader */
.spinner { width: 16px; height: 16px; border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: #fff; animation: spin 1s linear infinite; display: inline-block; vertical-align: middle; }
@keyframes spin { to { transform: rotate(360deg); } }
</style>
</head>
<body>
<div class="widget-card">
<div class="header-row">
<div class="header-title">
<!-- Simple calendar icon svg -->
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
MON CALENDRIER (MY SCHEDULE)
</div>
<div class="status-badge">Dans 2h (In 2h)</div>
</div>
<div class="shift-time-large">07:00 - 15:30</div>
<div class="shift-location">
<!-- Map pin icon -->
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
Sobeys - Épicerie (Grocery)
</div>
<div class="section-label">
L'ÉQUIPE (TEAM ON SHIFT)
</div>
<div class="team-list">
<div class="team-badge">Marc D.<span class="bullet">•</span>Gérant</div>
<div class="team-badge">Sarah L.<span class="bullet">•</span>Commis</div>
<div class="team-badge is-me">Moi (You)<span class="bullet">•</span>Commis</div>
<div class="team-badge">Alex P.<span class="bullet">•</span>Commis</div>
</div>
<div class="week-header">
<div class="section-label" style="margin:0;">CETTE SEMAINE (THIS WEEK)</div>
<button class="btn-swap-text" onclick="openSwapModal()">
<!-- Swap icon -->
<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>
Échanger (Request Swap)
</button>
</div>
<div class="calendar-grid" id="dynamicCalendar">
</div>
<div class="modal-backdrop" id="swapModal">
<div class="modal-content">
<div class="modal-header">
<h2>Confirmer l'échange (Confirm Swap)</h2>
</div>
<div class="modal-detail">
Vous demandez à échanger votre quart de travail du
<strong style="color:var(--sobeys-green-dark)" id="modalDateDisplay">Aujourd'hui</strong>.<br>
La demande sera envoyée à <strong>Marc D.</strong> pour approbation.
</div>
<button id="btnConfirm" class="btn-confirm-swap" onclick="processSwap()">Envoyer la demande (Send)</button>
<button class="btn-close" onclick="closeSwapM
